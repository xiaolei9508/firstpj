<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cmft.slas.cmuop.mapper.NotificationMapper">
    <select id="getNotifications" resultType="com.cmft.slas.cmuop.vo.NotificationPreview">
        SELECT
        create_time as createTime,
        article_id as articleId,
        t_notification_id as tNotificationId,
        notification_type as notificationType,
        is_read as isRead
        FROM t_notification
        WHERE is_delete = 0
        <if test="isRead != null">
            AND is_read = #{isRead}
        </if>
        ORDER BY t_notification_id DESC
    </select>
</mapper>